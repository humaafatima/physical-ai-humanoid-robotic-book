<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-03-ros2" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Chapter 3 - ROS 2 – The Robotic Nervous System | Physical AI &amp; Humanoid Robotics</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://humaafatima.github.io/Physical-AI-Humanoid-Robotics-Book/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://humaafatima.github.io/Physical-AI-Humanoid-Robotics-Book/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://humaafatima.github.io/Physical-AI-Humanoid-Robotics-Book/docs/03-ros2"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Chapter 3 - ROS 2 – The Robotic Nervous System | Physical AI &amp; Humanoid Robotics"><meta data-rh="true" name="description" content="Introduction to ROS 2 (Robot Operating System 2), the middleware framework that enables distributed robotic control."><meta data-rh="true" property="og:description" content="Introduction to ROS 2 (Robot Operating System 2), the middleware framework that enables distributed robotic control."><link data-rh="true" rel="icon" href="/Physical-AI-Humanoid-Robotics-Book/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://humaafatima.github.io/Physical-AI-Humanoid-Robotics-Book/docs/03-ros2"><link data-rh="true" rel="alternate" href="https://humaafatima.github.io/Physical-AI-Humanoid-Robotics-Book/docs/03-ros2" hreflang="en"><link data-rh="true" rel="alternate" href="https://humaafatima.github.io/Physical-AI-Humanoid-Robotics-Book/docs/03-ros2" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://YOUR_APP_ID-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"3. ROS 2","item":"https://humaafatima.github.io/Physical-AI-Humanoid-Robotics-Book/docs/03-ros2"}]}</script><link rel="search" type="application/opensearchdescription+xml" title="Physical AI &amp; Humanoid Robotics" href="/Physical-AI-Humanoid-Robotics-Book/opensearch.xml"><link rel="stylesheet" href="/Physical-AI-Humanoid-Robotics-Book/assets/css/styles.03ae9914.css">
<script src="/Physical-AI-Humanoid-Robotics-Book/assets/js/runtime~main.d422561b.js" defer="defer"></script>
<script src="/Physical-AI-Humanoid-Robotics-Book/assets/js/main.e7e20e78.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Physical-AI-Humanoid-Robotics-Book/"><div class="navbar__logo"><img src="/Physical-AI-Humanoid-Robotics-Book/img/logo.svg" alt="Physical AI Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/Physical-AI-Humanoid-Robotics-Book/img/logo.svg" alt="Physical AI Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Physical AI &amp; Humanoid Robotics</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Physical-AI-Humanoid-Robotics-Book/docs/">Book</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/humaafatima/physical-ai-humanoid-robotics-book" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Meta+k)" aria-keyshortcuts="Meta+k"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 24 24" aria-hidden="true"><circle cx="11" cy="11" r="8" stroke="currentColor" fill="none" stroke-width="1.4"></circle><path d="m21 21-4.3-4.3" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Physical-AI-Humanoid-Robotics-Book/docs/"><span title="Welcome" class="linkLabel_WmDU">Welcome</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Physical-AI-Humanoid-Robotics-Book/docs/01-intro"><span title="1. Physical AI &amp; Embodied Intelligence" class="linkLabel_WmDU">1. Physical AI &amp; Embodied Intelligence</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Physical-AI-Humanoid-Robotics-Book/docs/02-landscape"><span title="2. Humanoid Robotics Landscape" class="linkLabel_WmDU">2. Humanoid Robotics Landscape</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/Physical-AI-Humanoid-Robotics-Book/docs/03-ros2"><span title="3. ROS 2" class="linkLabel_WmDU">3. ROS 2</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Physical-AI-Humanoid-Robotics-Book/docs/04-urdf"><span title="4. URDF &amp; Robot Modeling" class="linkLabel_WmDU">4. URDF &amp; Robot Modeling</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Physical-AI-Humanoid-Robotics-Book/docs/05-digital-twins"><span title="5. Digital Twins" class="linkLabel_WmDU">5. Digital Twins</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Physical-AI-Humanoid-Robotics-Book/docs/06-sensors"><span title="6. Sensors" class="linkLabel_WmDU">6. Sensors</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Physical-AI-Humanoid-Robotics-Book/docs/07-isaac-ros"><span title="7. Isaac ROS" class="linkLabel_WmDU">7. Isaac ROS</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Physical-AI-Humanoid-Robotics-Book/docs/08-navigation"><span title="8. Navigation" class="linkLabel_WmDU">8. Navigation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Physical-AI-Humanoid-Robotics-Book/docs/09-vla-models"><span title="9. VLA Models" class="linkLabel_WmDU">9. VLA Models</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Physical-AI-Humanoid-Robotics-Book/docs/10-voice-to-action"><span title="10. Voice to Action" class="linkLabel_WmDU">10. Voice to Action</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Physical-AI-Humanoid-Robotics-Book/docs/11-manipulation"><span title="11. Manipulation" class="linkLabel_WmDU">11. Manipulation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Physical-AI-Humanoid-Robotics-Book/docs/12-sim-to-real"><span title="12. Sim-to-Real" class="linkLabel_WmDU">12. Sim-to-Real</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Physical-AI-Humanoid-Robotics-Book/docs/13-capstone"><span title="13. Capstone Project" class="linkLabel_WmDU">13. Capstone Project</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Physical-AI-Humanoid-Robotics-Book/docs/14-hardware"><span title="14. Hardware" class="linkLabel_WmDU">14. Hardware</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Physical-AI-Humanoid-Robotics-Book/docs/glossary"><span title="Glossary" class="linkLabel_WmDU">Glossary</span></a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/Physical-AI-Humanoid-Robotics-Book/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">3. ROS 2</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Chapter 3: ROS 2 – The Robotic Nervous System</h1></header>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Chapter Overview</div><div class="admonitionContent_BuS1"><p>Introduction to ROS 2 (Robot Operating System 2), the middleware framework that enables distributed robotic control.</p><p><strong>Word Target</strong>: 1,500-1,700 words
<strong>Code Examples</strong>: 5 (hello world, pub/sub, services, actions, parameters)</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="learning-objectives">Learning Objectives<a href="#learning-objectives" class="hash-link" aria-label="Direct link to Learning Objectives" title="Direct link to Learning Objectives" translate="no">​</a></h2>
<p>By the end of this chapter, you will be able to:</p>
<ul>
<li class="">Explain ROS 2 architecture and its advantages over ROS 1</li>
<li class="">Write ROS 2 nodes using Python (rclpy)</li>
<li class="">Implement inter-node communication via topics, services, and actions</li>
<li class="">Configure and launch multi-node robotic systems</li>
<li class="">Debug ROS 2 systems using command-line tools</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="31-ros-2-architecture-and-dds">3.1 ROS 2 Architecture and DDS<a href="#31-ros-2-architecture-and-dds" class="hash-link" aria-label="Direct link to 3.1 ROS 2 Architecture and DDS" title="Direct link to 3.1 ROS 2 Architecture and DDS" translate="no">​</a></h2>
<p>ROS 2 (Robot Operating System 2) represents a complete architectural redesign of its predecessor, addressing fundamental limitations that emerged as robotics moved from academic labs to commercial deployment. Unlike ROS 1&#x27;s centralized master-based architecture, ROS 2 adopts a peer-to-peer communication model built on the Data Distribution Service (DDS) middleware standard. This shift eliminates single points of failure, enables true distributed systems, and provides enterprise-grade features like real-time performance, security, and cross-platform compatibility that modern robotic applications demand (International Journal of Intelligent Robotics and Applications, 2024).</p>
<p>At the heart of ROS 2&#x27;s architecture lies DDS—a proven industrial middleware standard used in mission-critical systems from aerospace to financial trading. DDS handles node discovery, message serialization, and network transport transparently, allowing ROS 2 nodes to find each other automatically across networks without centralized coordination. This peer-to-peer model means that any node can communicate directly with any other node, enabling resilient systems where individual component failures don&#x27;t cascade into system-wide breakdowns. For humanoid robotics applications with dozens of sensors, actuators, and control nodes, this architecture provides the reliability needed for safe operation in human environments.</p>
<p>ROS 2&#x27;s modularity extends beyond communication patterns to support diverse deployment scenarios. The framework provides both C++ and Python APIs (rclcpp and rclpy respectively), supports real-time operating systems through careful memory management and deterministic execution, and runs on platforms from embedded microcontrollers to cloud servers. Recent surveys of the ROS 2 ecosystem demonstrate strong adoption driven by these capabilities, with users particularly valuing the improved real-time performance and security features compared to ROS 1 (Preprints.org, 2024).</p>
<p>A key innovation in ROS 2 is Quality of Service (QoS) policies that allow fine-grained control over communication behavior. Different robotic data streams have different requirements: sensor data might tolerate occasional packet loss but needs low latency (best-effort, volatile QoS), while command messages require guaranteed delivery (reliable, transient-local QoS). ROS 2&#x27;s QoS system allows developers to specify reliability, durability, deadline, and liveliness constraints per topic, ensuring each communication channel meets its specific needs. For humanoid robots, this means critical safety commands can use reliable delivery while high-frequency sensor streams can prioritize low latency, optimizing both safety and performance.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="32-topics-and-messages">3.2 Topics and Messages<a href="#32-topics-and-messages" class="hash-link" aria-label="Direct link to 3.2 Topics and Messages" title="Direct link to 3.2 Topics and Messages" translate="no">​</a></h2>
<p>Topics form the backbone of ROS 2 communication, implementing the publisher-subscriber pattern for asynchronous, many-to-many data exchange. In this model, nodes publish messages to named topics without knowing who (if anyone) is listening, while subscriber nodes receive messages from topics they&#x27;re interested in without knowing the source. This loose coupling enables modular system design where components can be added, removed, or replaced without modifying existing nodes—a critical feature for the iterative development of complex humanoid systems.</p>
<p>A ROS 2 topic is simply a named bus for messages of a specific type. For instance, <code>/camera/image_raw</code> might carry <code>sensor_msgs/Image</code> messages from a camera, while <code>/cmd_vel</code> carries <code>geometry_msgs/Twist</code> messages commanding robot velocity. ROS 2 provides extensive standard message types organized into packages: <code>std_msgs</code> for primitives (int, float, string), <code>geometry_msgs</code> for spatial data (poses, transforms, velocities), <code>sensor_msgs</code> for sensor data (images, point clouds, IMU readings), and domain-specific packages for navigation, manipulation, and perception. This standardization enables interoperability—a path planning node expecting <code>geometry_msgs/PoseStamped</code> messages can work with any localization system that publishes this standard message type.</p>
<p>Creating publishers and subscribers in Python using rclpy follows a straightforward pattern. Publishers are instantiated with a message type and topic name, then call <code>publish()</code> to send messages. Subscribers register a callback function that executes whenever a new message arrives. This asynchronous callback model means subscriber nodes don&#x27;t block waiting for messages—they process data as it arrives while continuing other work. For humanoid robots with dozens of concurrent sensor streams and control loops, this asynchronous architecture enables efficient parallel processing without complex threading logic.</p>
<p>Topic discovery happens automatically through DDS: when a publisher announces a topic, interested subscribers connect transparently across the network. ROS 2&#x27;s command-line tools provide powerful introspection capabilities. <code>ros2 topic list</code> shows all active topics, <code>ros2 topic echo /topic_name</code> displays messages in real-time, <code>ros2 topic hz /topic_name</code> measures publication rates, and <code>ros2 topic info /topic_name --verbose</code> reveals publishers, subscribers, and QoS settings. These tools are indispensable for debugging—when your humanoid robot isn&#x27;t responding to commands, checking if control messages are actually being published at the expected rate is the first diagnostic step. Understanding topics deeply enables you to architect systems where perception, planning, and control components communicate efficiently through well-defined message interfaces.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="33-services-and-actions">3.3 Services and Actions<a href="#33-services-and-actions" class="hash-link" aria-label="Direct link to 3.3 Services and Actions" title="Direct link to 3.3 Services and Actions" translate="no">​</a></h2>
<p>While topics excel at continuous data streams, many robotic interactions follow request-response patterns where a node needs to ask another node to perform a specific task and wait for the result. ROS 2 provides two mechanisms for this: services for quick synchronous operations and actions for long-running asynchronous tasks with progress feedback. Understanding when to use each pattern is crucial for building responsive humanoid robot systems.</p>
<p><strong>Services</strong> implement synchronous remote procedure calls. A service client sends a request message and blocks until receiving a response from the service server. This pattern suits operations that complete quickly—querying the current robot state, computing inverse kinematics for a given pose, or toggling a sensor mode. Services are defined by <code>.srv</code> files specifying request and response message structures. For example, a <code>ComputeIK.srv</code> might request a target pose and return joint angles. The key limitation is that service calls block: if your inverse kinematics computation takes 5 seconds, the client waits 5 seconds. For operations that might take significant time, services become problematic—blocking prevents clients from processing other work and provides no visibility into progress.</p>
<p><strong>Actions</strong> solve this limitation by implementing asynchronous goal-oriented tasks with feedback. An action client sends a goal to an action server and immediately returns, allowing the client to continue other work. The server processes the goal in the background, periodically sending feedback messages about progress, and eventually returns a result. Crucially, clients can cancel goals mid-execution if circumstances change. Actions are defined by <code>.action</code> files with three message types: goal (what to do), result (final outcome), and feedback (progress updates). Consider a &quot;WalkToLocation&quot; action for a humanoid robot: the goal specifies target coordinates, feedback reports current position and estimated time remaining, and the result indicates success or failure with final position and obstacles encountered.</p>
<p>The distinction between services and actions maps to task duration and complexity. Services suit sub-second operations where blocking is acceptable: &quot;What&#x27;s the current battery level?&quot; (service returning a float). Actions suit multi-second or multi-minute operations requiring monitoring: &quot;Navigate to the kitchen&quot; (action with feedback on navigation progress, ability to cancel if user changes plans). For humanoid manipulation—like &quot;Pick up the cup&quot;—actions are essential. The task involves multiple phases (approach, grasp planning, execution, retreat), may take 10-30 seconds, could fail at any phase requiring different error handling, and benefits from feedback (&quot;approaching object&quot;, &quot;computing grasp&quot;, &quot;executing grasp&quot;). This action-based architecture enables responsive behaviors where higher-level controllers can monitor and react to lower-level task execution, a pattern we&#x27;ll use extensively for autonomous humanoid behaviors in later chapters. The ROS 2 framework&#x27;s integration with heterogeneous hardware environments makes services and actions particularly powerful for coordinating complex multi-component robotic systems (PMC - Electronics Journal, 2024).</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="34-parameters-and-launch-files">3.4 Parameters and Launch Files<a href="#34-parameters-and-launch-files" class="hash-link" aria-label="Direct link to 3.4 Parameters and Launch Files" title="Direct link to 3.4 Parameters and Launch Files" translate="no">​</a></h2>
<p>Robotic systems require extensive configuration: sensor calibration values, control gains, file paths, algorithm thresholds, and behavioral settings. Hardcoding these values forces recompilation for every change, making experimentation painful. ROS 2&#x27;s parameter system provides runtime configurability, allowing nodes to declare parameters with default values and update them dynamically without code changes. For humanoid robots with dozens of tunable parameters across perception, control, and planning subsystems, this flexibility accelerates development significantly.</p>
<p>Parameters in ROS 2 are strongly typed (bool, int, double, string, or arrays) and scoped to specific nodes. A node declares parameters during initialization, specifying names, types, default values, and optionally validation constraints. Parameters can be set via command-line arguments when launching nodes (<code>--ros-args -p max_speed:=2.0</code>), loaded from YAML configuration files, or modified at runtime using <code>ros2 param set /node_name parameter_name value</code>. Nodes can register callbacks that execute when parameters change, enabling dynamic reconfiguration—adjusting a PID controller&#x27;s gains while the robot operates, for instance. This live-tuning capability is invaluable during development: you can observe your humanoid&#x27;s walking behavior, adjust control parameters in real-time, and immediately see the effects without restarting the entire system.</p>
<p><strong>Launch files</strong> orchestrate complex multi-node systems, specifying which nodes to start, how to configure them, and how to connect them. ROS 2 uses Python-based launch files (unlike ROS 1&#x27;s XML format), providing full programmatic control through conditionals, loops, and parameter calculations. A typical humanoid robot launch file might start sensor drivers, perception pipelines, motion planning nodes, and control interfaces—potentially 20+ nodes—with appropriate parameters, namespaces, and remappings. Launch files can include other launch files, enabling modular composition: a base launch file for the robot platform, separate launch files for navigation, manipulation, and perception capabilities that can be mixed and matched.</p>
<p>Launch files support <strong>composable nodes</strong>—loading multiple nodes into a single process to eliminate inter-process communication overhead. For high-frequency control loops or tightly coupled perception-action pairs, composable nodes reduce latency significantly. <strong>Namespaces</strong> enable running multiple robots or component instances: launching two instances of a perception pipeline under <code>/robot1</code> and <code>/robot2</code> namespaces keeps their topics separate (<code>/robot1/camera/image</code> vs <code>/robot2/camera/image</code>). This becomes essential for multi-robot scenarios or when testing different parameter configurations simultaneously.</p>
<p>The combination of parameters and launch files creates a powerful workflow: develop and test individual nodes, compose them into systems via launch files, tune behavior through parameters, and package proven configurations for deployment. The ROS 2 community&#x27;s emphasis on increasing robot autonomy through these modular frameworks demonstrates their importance for building complex, configurable robotic systems (MDPI Applied Sciences, 2023). For this course, you&#x27;ll use launch files extensively to orchestrate Isaac Sim environments, sensor pipelines, navigation stacks, and manipulation systems—gaining hands-on experience with the standard approach for managing real-world robotic complexity.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="code-examples">Code Examples<a href="#code-examples" class="hash-link" aria-label="Direct link to Code Examples" title="Direct link to Code Examples" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="example-1-hello-ros-2-node">Example 1: Hello ROS 2 Node<a href="#example-1-hello-ros-2-node" class="hash-link" aria-label="Direct link to Example 1: Hello ROS 2 Node" title="Direct link to Example 1: Hello ROS 2 Node" translate="no">​</a></h3>
<p><strong>Directory</strong>: <code>code-examples/chapter-03-ros2/hello_ros2/</code>
<strong>Learning Goal</strong>: Create and run a basic ROS 2 node
<strong>Time</strong>: 5 minutes</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="example-2-publisher-and-subscriber">Example 2: Publisher and Subscriber<a href="#example-2-publisher-and-subscriber" class="hash-link" aria-label="Direct link to Example 2: Publisher and Subscriber" title="Direct link to Example 2: Publisher and Subscriber" translate="no">​</a></h3>
<p><strong>Directory</strong>: <code>code-examples/chapter-03-ros2/pub_sub/</code>
<strong>Learning Goal</strong>: Implement asynchronous topic communication
<strong>Time</strong>: 15 minutes</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="example-3-service-clientserver">Example 3: Service Client/Server<a href="#example-3-service-clientserver" class="hash-link" aria-label="Direct link to Example 3: Service Client/Server" title="Direct link to Example 3: Service Client/Server" translate="no">​</a></h3>
<p><strong>Directory</strong>: <code>code-examples/chapter-03-ros2/service_example/</code>
<strong>Learning Goal</strong>: Implement synchronous request-response pattern
<strong>Time</strong>: 15 minutes</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="example-4-action-clientserver">Example 4: Action Client/Server<a href="#example-4-action-clientserver" class="hash-link" aria-label="Direct link to Example 4: Action Client/Server" title="Direct link to Example 4: Action Client/Server" translate="no">​</a></h3>
<p><strong>Directory</strong>: <code>code-examples/chapter-03-ros2/action_example/</code>
<strong>Learning Goal</strong>: Implement long-running tasks with feedback
<strong>Time</strong>: 20 minutes</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="example-5-parameters-and-launch">Example 5: Parameters and Launch<a href="#example-5-parameters-and-launch" class="hash-link" aria-label="Direct link to Example 5: Parameters and Launch" title="Direct link to Example 5: Parameters and Launch" translate="no">​</a></h3>
<p><strong>Directory</strong>: <code>code-examples/chapter-03-ros2/parameters/</code>
<strong>Learning Goal</strong>: Configure nodes via parameters and launch multiple nodes
<strong>Time</strong>: 15 minutes</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="exercises">Exercises<a href="#exercises" class="hash-link" aria-label="Direct link to Exercises" title="Direct link to Exercises" translate="no">​</a></h2>
<ol>
<li class="">
<p><strong>Basic Node</strong>: Create a ROS 2 node that prints &quot;Hello from ROS 2!&quot; every second.</p>
</li>
<li class="">
<p><strong>Temperature Publisher</strong>: Create a publisher that publishes simulated temperature readings (random float between 20-30°C) to <code>/temperature</code> topic every 0.5 seconds.</p>
</li>
<li class="">
<p><strong>Echo Subscriber</strong>: Create a subscriber that listens to <code>/temperature</code> and prints &quot;Current temperature: X°C&quot; for each message.</p>
</li>
<li class="">
<p><strong>Addition Service</strong>: Implement a service that takes two integers and returns their sum. Create both server and client nodes.</p>
</li>
<li class="">
<p><strong>Fibonacci Action</strong>: Implement an action server that computes Fibonacci sequence up to n terms, providing feedback for each computed term.</p>
</li>
<li class="">
<p><strong>Multi-Node Launch</strong>: Create a launch file that starts a temperature publisher, an echo subscriber, and sets a parameter for publication rate.</p>
</li>
<li class="">
<p><strong>Namespace Practice</strong>: Modify your nodes to work with namespaces (e.g., <code>/robot1/temperature</code>, <code>/robot2/temperature</code>).</p>
</li>
<li class="">
<p><strong>QoS Policies</strong>: Experiment with different QoS settings (reliable vs. best-effort, volatile vs. transient-local) and observe behavior.</p>
</li>
<li class="">
<p><strong>Topic Remapping</strong>: Use launch file remapping to connect nodes with different topic names.</p>
</li>
<li class="">
<p><strong>ROS 2 CLI Tools</strong>: Use <code>ros2 topic list</code>, <code>ros2 node info</code>, <code>ros2 interface show</code> to inspect a running system.</p>
</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="troubleshooting">Troubleshooting<a href="#troubleshooting" class="hash-link" aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting" translate="no">​</a></h2>
<p><strong>Problem</strong>: <code>ImportError: No module named &#x27;rclpy&#x27;</code>
<strong>Solution</strong>: Ensure you&#x27;re running inside the Docker container. Run <code>docker-compose up</code> from the example directory.</p>
<p><strong>Problem</strong>: Nodes can&#x27;t find each other
<strong>Solution</strong>: Check that all nodes are using the same ROS_DOMAIN_ID (default: 0). Set explicitly: <code>export ROS_DOMAIN_ID=42</code></p>
<p><strong>Problem</strong>: Publisher/subscriber not communicating
<strong>Solution</strong>: Verify QoS compatibility using <code>ros2 topic info /topic_name --verbose</code></p>
<hr>
<p><strong>Next Chapter</strong>: <a class="" href="/Physical-AI-Humanoid-Robotics-Book/docs/04-urdf">Chapter 4: URDF &amp; Robot Modeling →</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/humaafatima/physical-ai-humanoid-robotics-book/tree/main/book/docs/03-ros2.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/Physical-AI-Humanoid-Robotics-Book/docs/02-landscape"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">2. Humanoid Robotics Landscape</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Physical-AI-Humanoid-Robotics-Book/docs/04-urdf"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">4. URDF &amp; Robot Modeling</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#learning-objectives" class="table-of-contents__link toc-highlight">Learning Objectives</a></li><li><a href="#31-ros-2-architecture-and-dds" class="table-of-contents__link toc-highlight">3.1 ROS 2 Architecture and DDS</a></li><li><a href="#32-topics-and-messages" class="table-of-contents__link toc-highlight">3.2 Topics and Messages</a></li><li><a href="#33-services-and-actions" class="table-of-contents__link toc-highlight">3.3 Services and Actions</a></li><li><a href="#34-parameters-and-launch-files" class="table-of-contents__link toc-highlight">3.4 Parameters and Launch Files</a></li><li><a href="#code-examples" class="table-of-contents__link toc-highlight">Code Examples</a><ul><li><a href="#example-1-hello-ros-2-node" class="table-of-contents__link toc-highlight">Example 1: Hello ROS 2 Node</a></li><li><a href="#example-2-publisher-and-subscriber" class="table-of-contents__link toc-highlight">Example 2: Publisher and Subscriber</a></li><li><a href="#example-3-service-clientserver" class="table-of-contents__link toc-highlight">Example 3: Service Client/Server</a></li><li><a href="#example-4-action-clientserver" class="table-of-contents__link toc-highlight">Example 4: Action Client/Server</a></li><li><a href="#example-5-parameters-and-launch" class="table-of-contents__link toc-highlight">Example 5: Parameters and Launch</a></li></ul></li><li><a href="#exercises" class="table-of-contents__link toc-highlight">Exercises</a></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Book</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Physical-AI-Humanoid-Robotics-Book/docs/01-intro">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/Physical-AI-Humanoid-Robotics-Book/docs/13-capstone">Capstone Project</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://docs.ros.org/en/humble/" target="_blank" rel="noopener noreferrer" class="footer__link-item">ROS 2 Documentation<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://docs.omniverse.nvidia.com/isaacsim/" target="_blank" rel="noopener noreferrer" class="footer__link-item">NVIDIA Isaac Sim<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/humaafatima/physical-ai-humanoid-robotics-book" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Physical AI Robotics Team. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>